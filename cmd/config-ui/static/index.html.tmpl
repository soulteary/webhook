<!DOCTYPE html>
<html lang="{{.Lang}}">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Generate webhook hook config (YAML/JSON) and call example.">
	<title>{{.Title}}</title>
	<link rel="stylesheet" href="/static/css/pure-min.css">
	<link rel="stylesheet" href="/static/css/grids-responsive-min.css">
	<link rel="preload" href="/static/css/style.css" as="style">
	<link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
	<div class="pure-g content">
		<div class="pure-u-1">
			<header class="page-header pure-g pure-g-r">
				<div class="pure-u-1 pure-u-md-3-4">
					<h1 class="page-title"><span data-i18n="title">{{.Title}}</span></h1>
				</div>
				<div class="pure-u-1 pure-u-md-1-4 lang-switch-wrap">
					<span class="lang-switch"><a href="#" class="pure-link" data-lang="zh" id="lang-zh">中文</a> | <a href="#" class="pure-link" data-lang="en" id="lang-en">English</a></span>
				</div>
			</header>
			<p class="subtitle" data-i18n="subtitle">Fill in hook basics and options, then click Generate.</p>

			<form id="form" class="pure-form pure-form-stacked">
				<div class="config-single-column pure-g">
					<div class="pure-u-1">
						{{range .ConfigSections}}
						{{if .Collapsible}}
						<details class="pure-group config-section config-section-collapsible">
							<summary class="config-section-summary"><span data-i18n="{{.TitleKey}}"></span></summary>
							<fieldset class="pure-group config-section-inner">
						{{else}}
						<fieldset class="pure-group config-section">
							<legend data-i18n="{{.TitleKey}}"></legend>
						{{end}}
							{{range .Options}}
							{{if eq .Type "checkbox"}}
							<div class="config-item pure-control-group">
								<label>
									<input type="checkbox" name="{{.Name}}" id="{{.ID}}" class="pure-checkbox">
									<span class="config-label" data-i18n="{{.LabelKey}}"></span>
								</label>
								<p class="config-desc" data-i18n="{{.DescKey}}"></p>
							</div>
							{{else if eq .Type "text"}}
							<div class="config-item pure-control-group">
								<label for="{{.ID}}"><span class="config-label" data-i18n="{{.LabelKey}}"></span></label>
								<input type="text" name="{{.Name}}" id="{{.ID}}" class="pure-input-1" placeholder="{{.Placeholder}}" value="{{.Default}}">
								<p class="config-desc" data-i18n="{{.DescKey}}"></p>
							</div>
							{{else if eq .Type "number"}}
							<div class="config-item pure-control-group">
								<label for="{{.ID}}"><span class="config-label" data-i18n="{{.LabelKey}}"></span></label>
								<input type="number" name="{{.Name}}" id="{{.ID}}" class="pure-input-1" placeholder="{{.Placeholder}}" value="{{.Default}}">
								<p class="config-desc" data-i18n="{{.DescKey}}"></p>
							</div>
							{{else if eq .Type "textarea"}}
							<div class="config-item pure-control-group">
								<label for="{{.ID}}"><span class="config-label" data-i18n="{{.LabelKey}}"></span></label>
								<textarea name="{{.Name}}" id="{{.ID}}" class="pure-input-1 config-textarea" rows="4" placeholder="{{.Placeholder}}">{{.Default}}</textarea>
								<p class="config-desc" data-i18n="{{.DescKey}}"></p>
							</div>
							{{end}}
							{{end}}
						{{if .Collapsible}}</fieldset></details>{{else}}</fieldset>{{end}}
						{{end}}
					</div>
				</div>
				<div class="form-actions">
					<button type="submit" id="btn-generate" class="pure-button pure-button-primary" data-i18n="btnGenerate">Generate</button>
					<button type="button" id="btn-load-example" class="pure-button" data-i18n="btnLoadExample">Load example</button>
				</div>
			</form>

			<div id="result" class="result-area" role="status" aria-live="polite"></div>
			<div id="output" class="output-area"></div>
			<div id="actions" class="actions-area"></div>
		</div>
	</div>

	<script>window.I18N = {{.I18N}};</script>
	<script src="/static/js/app.js" defer></script>
</body>
</html>
